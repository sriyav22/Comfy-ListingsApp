{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/shriya22/Desktop/Semester3/Web Design/Project/final-project-incredibles/webapp/src/App/App.js\";\nimport './App.css';\nimport React, { Component, useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport MainComponent from './Components/Homepage/homepage';\nimport Signup from './Components/Registration/Signup';\nimport Login from './Components/Login/login';\nimport MyListings from './Components/Listings/MyListings';\nimport Successful from './Components/Roomlistings/Successful';\nimport { useDispatch } from 'react-redux';\nimport Roomlistings from './Components/Roomlistings/Roomlistings';\nimport BrowseComponent from './Components/Listings/Listings';\nimport ViewFavoritesComponent from './Components/Listings/ViewFavorites';\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./Store/utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./Store/actions/authActions\";\nimport { fetchListings } from \"./Store/actions/listingActions\";\nimport { Provider } from \"react-redux\";\nimport store from './Store/store';\nimport UpdateRoomlistings from './Components/Roomlistings/UpdateRoomlistings'; // Check for token to keep user logged in\n\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token); // Decode token and get user info and exp\n\n  const decoded = jwt_decode(token); // Set user and isAuthenticated\n\n  store.dispatch(setCurrentUser(decoded)); // Check for expired token\n\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser()); // Redirect to login\n\n    window.location.href = \"./login\";\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/_jsxDEV(Provider, {\n      store: store,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: MainComponent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/Signup\",\n          exact: true,\n          render: () => {\n            return [/*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/Login\",\n          exact: true,\n          render: () => {\n            return [/*#__PURE__*/_jsxDEV(Login // LoginUser={this.LoginUser}\n            , {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/CreateRoom/:id\",\n          exact: true,\n          render: () => {\n            return [/*#__PURE__*/_jsxDEV(Roomlistings //  LoginUser={this.LoginUser}\n            , {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/ViewRoom\",\n          exact: true,\n          render: props => {\n            return [/*#__PURE__*/_jsxDEV(BrowseComponent, { ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/MyListings/:id\",\n          exact: true,\n          render: props => {\n            return [/*#__PURE__*/_jsxDEV(MyListings, { ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 43\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/ViewRoom/:filteredCity\",\n          exact: true,\n          render: props => {\n            return [/*#__PURE__*/_jsxDEV(BrowseComponent, { ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/d\",\n          exact: true,\n          render: () => {\n            return [/*#__PURE__*/_jsxDEV(Successful, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/favorites\",\n          exact: true,\n          render: props => {\n            return [/*#__PURE__*/_jsxDEV(ViewFavoritesComponent, { ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/UpdateListings/:id\",\n          exact: true,\n          render: props => {\n            return [/*#__PURE__*/_jsxDEV(UpdateRoomlistings, { ...props\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 28\n            }, this)];\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/shriya22/Desktop/Semester3/Web Design/Project/final-project-incredibles/webapp/src/App/App.js"],"names":["React","Component","useEffect","BrowserRouter","Route","Switch","MainComponent","Signup","Login","MyListings","Successful","useDispatch","Roomlistings","BrowseComponent","ViewFavoritesComponent","jwt_decode","setAuthToken","setCurrentUser","logoutUser","fetchListings","Provider","store","UpdateRoomlistings","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App","constructor","props","state","render","console","log"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, {Component, useEffect }from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport MainComponent from './Components/Homepage/homepage';\nimport Signup from './Components/Registration/Signup';\nimport Login from './Components/Login/login';\nimport MyListings from './Components/Listings/MyListings';\nimport Successful from './Components/Roomlistings/Successful'\nimport { useDispatch } from 'react-redux';\nimport Roomlistings from './Components/Roomlistings/Roomlistings';\n\n\nimport BrowseComponent from './Components/Listings/Listings';\nimport ViewFavoritesComponent from './Components/Listings/ViewFavorites';\n\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./Store/utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./Store/actions/authActions\";\nimport { fetchListings } from \"./Store/actions/listingActions\";\n\nimport {Provider} from \"react-redux\";\nimport store from './Store/store';\nimport UpdateRoomlistings from './Components/Roomlistings/UpdateRoomlistings';\n\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n// Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login\";\n  }\n}\n\n\n\n\n\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n     this.state = {\n     }\n    }\n    \n    render(){  \n      console.log(this.props)        \n    return (\n\n      <Provider store={store}>\n      <div className=\"App\">\n\n                <Route exact path=\"/\" component={MainComponent}/>\n                <Route path=\"/Signup\"\n                   exact={true}\n                   render={() => {\n                       return [\n                           <Signup\n                              />]\n                   }\n                   }/>\n                <Route path=\"/Login\"\n                   exact={true}\n                   render={() => {\n                       return [\n                           <Login\n\n                              // LoginUser={this.LoginUser}\n                              />]\n                   }\n                   }/>\n                   <Route path=\"/CreateRoom/:id\"\n\n                   exact={true}\n                   render={() => {\n                       return [\n                           <Roomlistings \n                              //  LoginUser={this.LoginUser}\n                              />]\n                   }\n                   }/>\n\n                <Route path=\"/ViewRoom\"\n                   exact={true}\n                   render={(props) => {\n                       return [\n                           <BrowseComponent\n                           {...props}/>]\n                   }\n                  }/>\n{/* Show my lisings by passing in the logged in user ID */}\n                <Route path=\"/MyListings/:id\"\n                                  exact={true}\n                                  render={(props) => {\n                                      return [\n                                          <MyListings {...props}\n                                          />]\n                                  }\n                                }/>\n\n                  <Route path=\"/ViewRoom/:filteredCity\"\n                   exact={true}\n                   render={(props) => {\n                       return [\n                           <BrowseComponent\n                           {...props}/>]\n                   }\n                  }\n                  />\n                  <Route path=\"/d\"\n                   exact={true}\n                   render={() => {\n                       return [\n                           <Successful\n                              />]\n                        }\n                   }/>\n\n                  <Route path=\"/favorites\"\n                   exact={true}\n                   render={(props) => {\n                       return [\n                           <ViewFavoritesComponent\n                           {...props}/>]\n                   }\n                  }\n                  />\n\n      \n\n\n                  <Route path=\"/UpdateListings/:id\"\n                   exact={true}\n                   render={(props) => {\n                       return [\n                           <UpdateRoomlistings\n                           {...props}/>]\n                   }\n                  }\n                  />\n\n      </div>\n  \n\n  </Provider>\n    )\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}