{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/shriya22/Desktop/Semester3/Web Design/Project/final-project-incredibles/webapp/src/App/Components/Listings/Listings.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport FooterComponent from '../Footer/footer';\nimport NavbarComponent from '../Navbar/navbar';\nimport Card from './Card';\nimport { fetchListings } from \"../../Store/actions/listingActions\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../Store/actions/authActions\";\n\nconst Listings = () => {\n  _s();\n\n  const listings = useSelector(state => state.listings);\n};\n\n_s(Listings, \"6MXs7rVl0ZtPmAjfgoWKl/lz3Xk=\", false, function () {\n  return [useSelector];\n});\n\n_c = Listings;\n\nclass BrowseComponent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      filteredCity: ''\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchListings();\n\n    if (this.props.match) {\n      const {\n        filteredCity\n      } = this.props.match.params;\n      this.setState({\n        filteredCity: filteredCity\n      });\n    }\n\n    console.log(this.props);\n  }\n\n  componentDidUpdate() {\n    console.log(this.props.auth);\n\n    if (Object.keys(this.props.auth.user).length === 0) {\n      window.location.href = \"/\";\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavbarComponent, {\n        history: this.props.history\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [!this.state.filteredCity && this.props.listings && this.props.listings.map((room, index) => /*#__PURE__*/_jsxDEV(Card, {\n            room: room\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 36\n          }, this)), this.state.filteredCity && this.props.listings && this.props.listings.map((room, index) => {\n            console.log(room);\n\n            if (room.address.city === this.state.filteredCity) {\n              return /*#__PURE__*/_jsxDEV(Card, {\n                room: room\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 53\n              }, this);\n            }\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(FooterComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }, this);\n  }\n\n}\n\nBrowseComponent.propTypes = {\n  fetchListings: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  listings: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  listings: state.listings\n});\n\nexport default connect(mapStateToProps, {\n  fetchListings,\n  logoutUser\n})(BrowseComponent); // Roomlistings.propTypes = {\n//     logoutUser: PropTypes.func.isRequired,\n//     createListing: PropTypes.func.isRequired,\n//     auth: PropTypes.object.isRequired\n//   };\n//   const mapStateToProps = state => ({\n//     listingData: state.Addnewroom,\n//     auth: state.auth\n//   });\n//   export default connect(\n//     mapStateToProps,\n//     {createListing,logoutUser}\n//   )(Roomlistings);\n\nvar _c;\n\n$RefreshReg$(_c, \"Listings\");","map":{"version":3,"sources":["/Users/shriya22/Desktop/Semester3/Web Design/Project/final-project-incredibles/webapp/src/App/Components/Listings/Listings.js"],"names":["React","useSelector","FooterComponent","NavbarComponent","Card","fetchListings","PropTypes","connect","logoutUser","Listings","listings","state","BrowseComponent","Component","filteredCity","componentDidMount","props","match","params","setState","console","log","componentDidUpdate","auth","Object","keys","user","length","window","location","href","render","history","map","room","index","address","city","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\n\nimport FooterComponent from '../Footer/footer'\nimport NavbarComponent from '../Navbar/navbar';\nimport Card from './Card';\nimport { fetchListings } from \"../../Store/actions/listingActions\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../Store/actions/authActions\";\n\nconst Listings = () => {\n    const listings = useSelector((state) => state.listings);\n}\n\n\n\n        class BrowseComponent extends React.Component {\n\n            state = {\n                filteredCity: '',\n            }\n            \n            componentDidMount() {\n                this.props.fetchListings() \n                \n                if(this.props.match){\n                    const { filteredCity } = this.props.match.params\n                    this.setState({\n                        filteredCity: filteredCity\n                    })\n                }     \n                console.log(this.props)           \n              }\n\n              componentDidUpdate(){\n                  console.log(this.props.auth)\n                  if(Object.keys(this.props.auth.user).length === 0){\n                      window.location.href = \"/\"\n                  }\n              }\n              \n            render() {\n                return(\n                    <div>\n                        <NavbarComponent history={this.props.history}/>\n                        <div className = \"container mt-5\">\n                            <div className = \"row\">\n                                {!this.state.filteredCity && this.props.listings && this.props.listings.map((room , index) => (\n                                   <Card room = {room} />\n                                ))}\n\n                                {this.state.filteredCity && \n                                    this.props.listings && \n                                    this.props.listings.map((room , index) => {\n                                        console.log(room)\n                                        if(room.address.city === this.state.filteredCity) {\n                                            return (<Card room = {room} />)\n                                        }\n                                        \n                                })}\n\n                                \n                            </div>\n                        </div>\n                        <FooterComponent />\n                    </div>          \n                );\n            }\n        }                                                                        \n\n        BrowseComponent.propTypes = {\n            fetchListings: PropTypes.func.isRequired,\n            logoutUser: PropTypes.func.isRequired,\n            auth: PropTypes.object.isRequired,\n            listings : PropTypes.object.isRequired,\n            \n        };\n        const mapStateToProps = state => ({\n            auth: state.auth,\n            listings : state.listings\n        });\n        export default connect(\n            mapStateToProps,\n            { fetchListings , logoutUser}\n        )(BrowseComponent);\n\n        // Roomlistings.propTypes = {\n        //     logoutUser: PropTypes.func.isRequired,\n        //     createListing: PropTypes.func.isRequired,\n        //     auth: PropTypes.object.isRequired\n        //   };\n          \n          \n        //   const mapStateToProps = state => ({\n        //     listingData: state.Addnewroom,\n        //     auth: state.auth\n        //   });\n        //   export default connect(\n        //     mapStateToProps,\n          \n        //     {createListing,logoutUser}\n        //   )(Roomlistings);\n\n"]},"metadata":{},"sourceType":"module"}