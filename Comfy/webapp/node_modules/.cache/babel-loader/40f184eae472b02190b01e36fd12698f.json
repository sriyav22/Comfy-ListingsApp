{"ast":null,"code":"import axios from 'axios';\nimport { CREATE_LISTING, GET_ERRORS, LISTING_LOADING, FETCH_LISTINGS } from './types'; // Action creators\n// Fetch all room listings\n\nexport const fetchListings = () => dispatch => {\n  axios.get(\"http://localhost:5000/listings/\").then(res => {\n    dispatch({\n      type: 'FETCH_LISTINGS',\n      payload: res.data\n    });\n  }) // re-direct to login on successful register\n  .catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: ((err || {}).response || {}).data || 'Error unexpected'\n  }));\n}; // Loading listings\n\nexport const setListingLoading = () => {\n  return {\n    type: LISTING_LOADING\n  };\n}; // Create a new room listing \n\nexport const createListing = listingData => dispatch => {\n  axios.post(\"http://localhost:5000/listings/\", listingData).then(res => {\n    dispatch(CREATE_LISTING(listingData)); //history.push('/ViewRoom')\n  }) // re-direct to login on successful register\n  .catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: ((err || {}).response || {}).data || 'Error unexpected'\n    });\n  });\n};","map":{"version":3,"sources":["/Users/shriya22/Desktop/Semester3/Web Design/Project/final-project-incredibles/webapp/src/App/Store/actions/listingActions.js"],"names":["axios","CREATE_LISTING","GET_ERRORS","LISTING_LOADING","FETCH_LISTINGS","fetchListings","dispatch","get","then","res","type","payload","data","catch","err","response","setListingLoading","createListing","listingData","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACIC,cADJ,EAEIC,UAFJ,EAGIC,eAHJ,EAIIC,cAJJ,QAKS,SALT,C,CAQA;AACA;;AACA,OAAO,MAAMC,aAAa,GAAG,MAAOC,QAAD,IAAc;AAC/CN,EAAAA,KAAK,CACFO,GADH,CACO,iCADP,EAEGC,IAFH,CAEQC,GAAG,IAAI;AACXH,IAAAA,QAAQ,CAAC;AAACI,MAAAA,IAAI,EAAC,gBAAN;AAAwBC,MAAAA,OAAO,EAACF,GAAG,CAACG;AAApC,KAAD,CAAR;AACD,GAJH,EAKD;AALC,GAMGC,KANH,CAMSC,GAAG,IACRR,QAAQ,CAAC;AACPI,IAAAA,IAAI,EAAER,UADC;AAEPS,IAAAA,OAAO,EAAE,CAAC,CAACG,GAAG,IAAE,EAAN,EAAUC,QAAV,IAAoB,EAArB,EAAyBH,IAAzB,IAAiC;AAFnC,GAAD,CAPZ;AAYD,CAbM,C,CAeL;;AACA,OAAO,MAAMI,iBAAiB,GAAG,MAAM;AACrC,SAAO;AACLN,IAAAA,IAAI,EAAEP;AADD,GAAP;AAGD,CAJM,C,CAMP;;AAEA,OAAO,MAAMc,aAAa,GAAIC,WAAD,IAAiBZ,QAAQ,IAAI;AACxDN,EAAAA,KAAK,CACFmB,IADH,CACQ,iCADR,EAC2CD,WAD3C,EAEGV,IAFH,CAEQC,GAAG,IAAI;AACXH,IAAAA,QAAQ,CAACL,cAAc,CAACiB,WAAD,CAAf,CAAR,CADW,CAEX;AACD,GALH,EAMD;AANC,GAOGL,KAPH,CAOSC,GAAG,IAAG;AACXR,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAER,UADC;AAEPS,MAAAA,OAAO,EAAE,CAAC,CAACG,GAAG,IAAE,EAAN,EAAUC,QAAV,IAAoB,EAArB,EAAyBH,IAAzB,IAAiC;AAFnC,KAAD,CAAR;AAKD,GAbH;AAcD,CAfM","sourcesContent":["import axios from 'axios';\n\nimport { \n    CREATE_LISTING, \n    GET_ERRORS,\n    LISTING_LOADING,\n    FETCH_LISTINGS \n}   from './types';\n\n\n// Action creators\n// Fetch all room listings\nexport const fetchListings = () => (dispatch) => {\n  axios\n    .get(\"http://localhost:5000/listings/\")\n    .then(res => {\n      dispatch({type:'FETCH_LISTINGS', payload:res.data})\n    })\n // re-direct to login on successful register\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: ((err||{}).response||{}).data || 'Error unexpected'\n      })\n    );\n}; \n\n  // Loading listings\n  export const setListingLoading = () => {\n    return {\n      type: LISTING_LOADING\n    };\n  };\n\n  // Create a new room listing \n\n  export const createListing = (listingData) => dispatch => {\n    axios\n      .post(\"http://localhost:5000/listings/\", listingData)\n      .then(res => {\n        dispatch(CREATE_LISTING(listingData));\n        //history.push('/ViewRoom')\n      })\n   // re-direct to login on successful register\n      .catch(err =>{\n        dispatch({\n          type: GET_ERRORS,\n          payload: ((err||{}).response||{}).data || 'Error unexpected'\n          \n        })\n      });\n  };\n\n\n\n"]},"metadata":{},"sourceType":"module"}